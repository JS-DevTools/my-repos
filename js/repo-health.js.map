{
  "version": 3,
  "sources": [
    "..\\node_modules\\browser-pack\\_prelude.js",
    "..\\ts\\dialog.ts",
    "..\\ts\\dom.ts",
    "..\\ts\\index.ts",
    "..\\ts\\params.ts"
  ],
  "names": [],
  "mappings": "AAAA;;;ACAA,+BAA4B;AAC5B,qCAAkC;AAElC,MAAM,aAAa;IACjB;QACE,SAAG,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;QACtE,SAAG,CAAC,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;IAC1E,CAAC;IAGM,SAAS;QACd,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,IAAI,EAAE,GAAG,SAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QAEzB,EAAE,CAAC,SAAS,GAAG,MAAM,CAAC;QAEtB,IAAI,OAAO,EAAE,CAAC,SAAS,KAAK,UAAU,EAAE;YACtC,EAAE,CAAC,SAAS,EAAE,CAAC;SAChB;aACI;YACH,oBAAoB;YACpB,IAAI,QAAQ,GAAG,SAAG,CAAC,aAAa,CAAC,KAAK,EAAE,EAAE,SAAS,EAAE,UAAU,EAAE,CAAC,CAAC;YACnE,EAAE,CAAC,qBAAqB,CAAC,UAAU,EAAE,QAAQ,CAAC,CAAC;YAC/C,EAAE,CAAC,YAAY,CAAC,MAAM,EAAE,EAAE,CAAC,CAAC;SAC7B;IACH,CAAC;IAGM,KAAK;QACV,IAAI,EAAE,GAAG,SAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QAEzB,EAAE,CAAC,SAAS,GAAG,QAAQ,CAAC;QAExB,IAAI,OAAO,EAAE,CAAC,KAAK,KAAK,UAAU,EAAE;YAClC,EAAE,CAAC,KAAK,EAAE,CAAC;SACZ;aACI;YACH,oBAAoB;YACpB,EAAE,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;YAC3B,IAAI,QAAQ,GAAG,EAAE,CAAC,kBAAkB,CAAC;YACrC,IAAI,QAAQ,IAAI,QAAQ,CAAC,SAAS,KAAK,UAAU,EAAE;gBACjD,QAAQ,CAAC,MAAM,EAAE,CAAC;aACnB;SACF;IACH,CAAC;IAGO,WAAW,CAAC,KAAY;QAC9B,KAAK,CAAC,cAAc,EAAE,CAAC;QAEvB,IAAI,QAAQ,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QACtC,IAAI,CAAC,QAAQ,EAAE;YACb,OAAO;SACR;QAED,eAAM,CAAC,OAAO,CAAC,QAAQ,CAAC,CAAC;QACzB,SAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,GAAG,EAAE,CAAC;QAC9B,SAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,GAAG,EAAE,CAAC;QAC7B,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAGO,WAAW;QACjB,IAAI,QAAQ,GAAG,IAAI,CAAC,eAAe,EAAE,CAAC;QACtC,IAAI,CAAC,QAAQ,EAAE;YACb,OAAO;SACR;QAED,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAGO,eAAe;QACrB,IAAI,KAAK,GAAG,SAAG,CAAC,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QAC1D,IAAI,IAAI,GAAG,SAAG,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC,WAAW,EAAE,CAAC;QAExD,IAAI,KAAK,IAAI,IAAI,EAAE;YACjB,OAAO,GAAG,KAAK,IAAI,IAAI,EAAE,CAAC;SAC3B;IACH,CAAC;IAGO,QAAQ;QACd,IAAI,eAAM,CAAC,KAAK,EAAE;YAChB,SAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;YACvC,SAAG,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,mBAAmB,CAAC;SAC7C;aACI;YACH,SAAG,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;YACnC,SAAG,CAAC,IAAI,CAAC,EAAE,CAAC,SAAS,GAAG,kBAAkB,CAAC;SAC5C;QAED,IAAI,eAAM,CAAC,OAAO,EAAE;YAClB,SAAG,CAAC,IAAI,CAAC,EAAE,CAAC,QAAQ,GAAG,IAAI,CAAC;SAC7B;IACH,CAAC;CACF;AAEY,QAAA,MAAM,GAAG,IAAI,aAAa,EAAE,CAAC;;;;AClG7B,QAAA,GAAG,GAAG;IACjB,aAAa;IAEb,IAAI,EAAE;QACJ,MAAM,EAAE,UAAU,CAAC,aAAa,CAAsB;QACtD,IAAI,EAAE,UAAU,CAAC,eAAe,CAAoB;QACpD,SAAS,EAAE,UAAU,CAAC,YAAY,CAAqB;QACvD,QAAQ,EAAE,UAAU,CAAC,WAAW,CAAqB;QACrD,OAAO,EAAE,UAAU,CAAC,gBAAgB,CAAsB;QAC1D,OAAO,EAAE,UAAU,CAAC,gBAAgB,CAAsB;QAC1D,MAAM,EAAE,UAAU,CAAC,eAAe,CAAsB;QACxD,EAAE,EAAE,UAAU,CAAC,WAAW,CAAsB;KACjD;CACF,CAAC;AAGF,SAAS,UAAU,CAAC,EAAU;IAC5B,IAAI,OAAO,GAAG,QAAQ,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;IAC1C,IAAI,CAAC,OAAO,EAAE;QACZ,MAAM,IAAI,KAAK,CAAC,+BAA+B,EAAE,GAAG,CAAC,CAAC;KACvD;IACD,OAAO,OAAO,CAAC;AACjB,CAAC;AAGD,SAAS,aAAa,CAAC,OAAe,EAAE,QAAoC,EAAE;IAC5E,IAAI,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IAE9C,KAAK,IAAI,IAAI,IAAI,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC,EAAE;QACnC,aAAa;QACb,OAAO,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,CAAC;KAC7B;IAED,OAAO,OAAO,CAAC;AACjB,CAAC;;;;AClCD,qCAAkC;AAClC,qCAAkC;AAElC,IAAI,eAAM,CAAC,OAAO,EAAE;IAClB,eAAM,CAAC,SAAS,EAAE,CAAC;CACpB;;;;ACLD,MAAM,MAAM;IAKV;QAHQ,WAAM,GAAG,IAAI,eAAe,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QAIpD,0FAA0F;QAC1F,iDAAiD;QACjD,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC;IAC5B,CAAC;IAGD,IAAW,OAAO;QAChB,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;IACrC,CAAC;IAGM,OAAO,CAAC,QAAgB;QAC7B,IAAI,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAClD,IAAI,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;QAElD,IAAI,aAAa,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YACpC,yCAAyC;YACzC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;YAC9B,KAAK,IAAI,YAAY,IAAI,aAAa,EAAE;gBACtC,IAAI,YAAY,KAAK,QAAQ,EAAE;oBAC7B,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,YAAY,CAAC,CAAC;iBAC7C;aACF;SACF;QAED,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAE;YACrC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;SACzC;IACH,CAAC;IAGM,OAAO,CAAC,QAAgB;QAC7B,OAAO;IACT,CAAC;IAGM,QAAQ;QACb,IAAI,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC;QACnB,OAAO,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;IAChC,CAAC;CACF;AAGY,QAAA,MAAM,GAAG,IAAI,MAAM,EAAE,CAAC",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()",
    "import { dom } from \"./dom\";\nimport { params } from \"./params\";\n\nclass EditUrlDialog {\n  public constructor() {\n    dom.edit.form.addEventListener(\"submit\", this.includeRepo.bind(this));\n    dom.edit.exclude.addEventListener(\"click\", this.excludeRepo.bind(this));\n  }\n\n\n  public showModal(): void {\n    this.updateUI();\n    let me = dom.edit.dialog;\n\n    me.className = \"open\";\n\n    if (typeof me.showModal === \"function\") {\n      me.showModal();\n    }\n    else {\n      // <dialog> Polyfill\n      let backdrop = dom.createElement(\"div\", { className: \"backdrop\" });\n      me.insertAdjacentElement(\"afterend\", backdrop);\n      me.setAttribute(\"open\", \"\");\n    }\n  }\n\n\n  public close(): void {\n    let me = dom.edit.dialog;\n\n    me.className = \"closed\";\n\n    if (typeof me.close === \"function\") {\n      me.close();\n    }\n    else {\n      // <dialog> Polyfill\n      me.removeAttribute(\"open\");\n      let backdrop = me.nextElementSibling;\n      if (backdrop && backdrop.className === \"backdrop\") {\n        backdrop.remove();\n      }\n    }\n  }\n\n\n  private includeRepo(event: Event): void {\n    event.preventDefault();\n\n    let repoName = this.getFullRepoName();\n    if (!repoName) {\n      return;\n    }\n\n    params.include(repoName);\n    dom.edit.repoOwner.value = \"\";\n    dom.edit.repoName.value = \"\";\n    this.updateUI();\n  }\n\n\n  private excludeRepo(): void {\n    let repoName = this.getFullRepoName();\n    if (!repoName) {\n      return;\n    }\n\n    this.updateUI();\n  }\n\n\n  private getFullRepoName(): string | undefined {\n    let owner = dom.edit.repoOwner.value.trim().toLowerCase();\n    let repo = dom.edit.repoName.value.trim().toLowerCase();\n\n    if (owner && repo) {\n      return `${owner}/${repo}`;\n    }\n  }\n\n\n  private updateUI(): void {\n    if (params.isNew) {\n      dom.edit.cancel.style.display = \"none\";\n      dom.edit.ok.innerText = \"Show My Dashboard\";\n    }\n    else {\n      dom.edit.cancel.style.display = \"\";\n      dom.edit.ok.innerText = \"Update Dashboard\";\n    }\n\n    if (params.isEmpty) {\n      dom.edit.ok.disabled = true;\n    }\n  }\n}\n\nexport const dialog = new EditUrlDialog();\n",
    "export const dom = {\n  createElement,\n\n  edit: {\n    dialog: getElement(\"edit_dialog\") as HTMLDialogElement,\n    form: getElement(\"edit_url_form\") as HTMLFontElement,\n    repoOwner: getElement(\"repo_owner\") as HTMLInputElement,\n    repoName: getElement(\"repo_name\") as HTMLInputElement,\n    include: getElement(\"include_button\") as HTMLButtonElement,\n    exclude: getElement(\"exclude_button\") as HTMLButtonElement,\n    cancel: getElement(\"cancel_button\") as HTMLButtonElement,\n    ok: getElement(\"ok_button\") as HTMLButtonElement,\n  }\n};\n\n\nfunction getElement(id: string): HTMLElement {\n  let element = document.getElementById(id);\n  if (!element) {\n    throw new Error(`Unable to find the element \"${id}\"`);\n  }\n  return element;\n}\n\n\nfunction createElement(tagName: string, props: { [key: string]: unknown } = {}): HTMLElement {\n  let element = document.createElement(tagName);\n\n  for (let prop of Object.keys(props)) {\n    // @ts-ignore\n    element[prop] = props[prop];\n  }\n\n  return element;\n}\n",
    "import { dialog } from \"./dialog\";\nimport { params } from \"./params\";\n\nif (params.isEmpty) {\n  dialog.showModal();\n}\n",
    "class Params {\n  public isNew: boolean;\n  private _query = new URLSearchParams(location.search);\n\n\n  public constructor() {\n    // If the params are empty when the page first loads, then we're building a new dashboard,\n    // rather than showing or editing an existing one\n    this.isNew = this.isEmpty;\n  }\n\n\n  public get isEmpty(): boolean {\n    return !this._query.has(\"include\");\n  }\n\n\n  public include(repoName: string): void {\n    let includedRepos = this._query.getAll(\"include\");\n    let excludedRepos = this._query.getAll(\"exclude\");\n\n    if (excludedRepos.includes(repoName)) {\n      // Remove this repo from the exclude list\n      this._query.delete(\"exclude\");\n      for (let excludedRepo of excludedRepos) {\n        if (excludedRepo !== repoName) {\n          this._query.append(\"exclude\", excludedRepo);\n        }\n      }\n    }\n\n    if (!includedRepos.includes(repoName)) {\n      this._query.append(\"include\", repoName);\n    }\n  }\n\n\n  public exclude(repoName: string): void {\n    // TODO\n  }\n\n\n  public toString() {\n    this._query.sort();\n    return this._query.toString();\n  }\n}\n\n\nexport const params = new Params();\n"
  ]
}